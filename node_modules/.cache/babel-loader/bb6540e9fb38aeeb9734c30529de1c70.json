{"ast":null,"code":"var _jsxFileName = \"/Users/a14079/Documents/GA/Projects/Unit-3/neighborly/React-FrontEnd-Neighborly/neighborly/src/ItemContainer/ItemContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport SingleItemComponent from './SingleItemComponent/SingleItemComponent';\nimport NewItemComponent from './NewItemComponent/NewItemComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ItemContainer = () => {\n  _s();\n\n  const [neighborhoods, setNeighborhoods] = useState([]);\n  const [newItemServerError, setNewItemServerError] = useState(\"\");\n  const [showing, setShowing] = useState(false);\n\n  const toggleShowing = () => {\n    setShowing(!showing);\n  }; // create new item function\n\n\n  const createNewNeighborhood = async newNeighborhood => {\n    console.log(newNeighborhood);\n    console.log('let us create this'); // send a request to the backend\n\n    const apiResponse = await fetch('http://localhost:3001/neighborhoods', {\n      method: \"POST\",\n      body: JSON.stringify(newNeighborhood),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }); // parse the response\n\n    const parsedResponse = await apiResponse.json(); // if response is success: \n\n    if (parsedResponse.status == 200) {\n      // add the new item to state\n      setNeighborhoods([parsedResponse.data, ...neighborhoods]);\n    } else {\n      //else:\n      // show the error message in the form, don't change it back\n      console.log('here');\n      console.log(parsedResponse.data);\n      setNewItemServerError(parsedResponse.data);\n    }\n  }; // create delete function\n\n\n  const deleteNeighborhood = async neighborhoodId => {\n    console.log('deleting item id');\n\n    try {\n      const apiResponse = await fetch(`http://localhost:3001/neighborhoods/${neighborhoodId}`, {\n        method: \"DELETE\"\n      });\n      const parsedResponse = await apiResponse.json();\n      console.log(parsedResponse); // was it successful in deleting?\n\n      if (parsedResponse.status == 200) {\n        // we want to return an array of new items without the deleted item\n        const newNeighborhoods = []; // loop through each item and if it matches the id of the selected item, then don't add it to the array\n\n        for (let i = 0; i < neighborhoods.length; i++) {\n          if (neighborhoods[i]._id !== neighborhoodId) {\n            newNeighborhoods.push(neighborhoods[i]);\n          }\n        } // set the items equal to this new items array\n\n\n        setNeighborhoods(newNeighborhoods);\n      } else {}\n    } catch (err) {\n      console.log(err);\n    }\n\n    ;\n  }; // fetch items from server and display them\n\n\n  const getNeighborhoods = async () => {\n    try {\n      const neighborhoods = await fetch(\"http://localhost:3001/neighborhoods\");\n      const parsedNeighborhoods = await neighborhoods.json();\n      setNeighborhoods(parsedNeighborhoods.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(getNeighborhoods, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [showing ? neighborhoods.map(neighborhood => {\n      console.log(neighborhood._id);\n      return /*#__PURE__*/_jsxDEV(SingleItemComponent, {\n        neighborhood: neighborhood,\n        deleteNeighborhood: deleteNeighborhood\n      }, neighborhood._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleShowing,\n      children: \"View Neighborhoods\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(NewItemComponent, {\n      createNewNeighborhood: createNewNeighborhood,\n      newItemServerError: newItemServerError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ItemContainer, \"/Lu5kCWy5TFU/y1G9Yu/+1gp5NU=\");\n\n_c = ItemContainer;\nexport default ItemContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemContainer\");","map":{"version":3,"sources":["/Users/a14079/Documents/GA/Projects/Unit-3/neighborly/React-FrontEnd-Neighborly/neighborly/src/ItemContainer/ItemContainer.jsx"],"names":["React","useState","useEffect","SingleItemComponent","NewItemComponent","ItemContainer","neighborhoods","setNeighborhoods","newItemServerError","setNewItemServerError","showing","setShowing","toggleShowing","createNewNeighborhood","newNeighborhood","console","log","apiResponse","fetch","method","body","JSON","stringify","headers","parsedResponse","json","status","data","deleteNeighborhood","neighborhoodId","newNeighborhoods","i","length","_id","push","err","getNeighborhoods","parsedNeighborhoods","map","neighborhood"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport SingleItemComponent from './SingleItemComponent/SingleItemComponent';\nimport NewItemComponent from './NewItemComponent/NewItemComponent';\n\nconst ItemContainer = () => {\n    const [neighborhoods, setNeighborhoods] = useState([]);\n    const [newItemServerError, setNewItemServerError] = useState(\"\");\n    const [showing, setShowing] = useState(false);\n    const toggleShowing = () => {\n        setShowing(!showing);\n    }\n    // create new item function\n    const createNewNeighborhood = async (newNeighborhood) => {\n        console.log(newNeighborhood);\n        console.log('let us create this');\n        // send a request to the backend\n        const apiResponse = await fetch('http://localhost:3001/neighborhoods', {\n            method: \"POST\",\n            body: JSON.stringify(newNeighborhood),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        // parse the response\n        const parsedResponse = await apiResponse.json();\n        // if response is success: \n        if (parsedResponse.status == 200) {\n            // add the new item to state\n            setNeighborhoods([parsedResponse.data, ...neighborhoods]);\n        } else {\n            //else:\n            // show the error message in the form, don't change it back\n            console.log('here');\n            console.log(parsedResponse.data);\n            setNewItemServerError(parsedResponse.data);\n        }\n    };\n    // create delete function\n    const deleteNeighborhood = async (neighborhoodId) => {\n        console.log('deleting item id');\n        try {\n            const apiResponse = await fetch(`http://localhost:3001/neighborhoods/${neighborhoodId}`, {\n                method: \"DELETE\"\n            });\n            const parsedResponse = await apiResponse.json();\n            console.log(parsedResponse);\n            // was it successful in deleting?\n            if (parsedResponse.status == 200) {\n                // we want to return an array of new items without the deleted item\n                const newNeighborhoods = [];\n                // loop through each item and if it matches the id of the selected item, then don't add it to the array\n                for (let i=0; i<neighborhoods.length; i++) {\n                    if (neighborhoods[i]._id !== neighborhoodId) {\n                        newNeighborhoods.push(neighborhoods[i]);\n                    }\n                }\n                // set the items equal to this new items array\n                setNeighborhoods(newNeighborhoods);\n            } else {\n\n            }\n        } catch (err) {\n            console.log(err);\n        };\n    }\n    // fetch items from server and display them\n    const getNeighborhoods = async () => {\n        try {\n            const neighborhoods = await fetch(\"http://localhost:3001/neighborhoods\");\n            const parsedNeighborhoods = await neighborhoods.json();\n            setNeighborhoods(parsedNeighborhoods.data);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    useEffect(getNeighborhoods, []);\n    return (\n        <div>\n            { showing ?\n                neighborhoods.map( (neighborhood) => {\n                    console.log(neighborhood._id);\n                    return (\n                        <SingleItemComponent key={neighborhood._id} neighborhood={neighborhood} deleteNeighborhood={deleteNeighborhood}></SingleItemComponent>\n                    )\n                })\n                :\n                <button onClick={toggleShowing}>View Neighborhoods</button>\n            }\n            <NewItemComponent createNewNeighborhood={createNewNeighborhood} newItemServerError={newItemServerError}></NewItemComponent>\n        </div>\n    );\n};\n\nexport default ItemContainer;"]},"metadata":{},"sourceType":"module"}